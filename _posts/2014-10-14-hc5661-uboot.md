---
layout: post
title: "极路由1S uboot升级功能"
categories: openwrt
tags: openwrt 极路由
---

极1S上电后，如果Uboot检测到Reset键被按下，则会进行tftp下载，此时有一句打印：

```
 ETH_STATE_ACTIVE!! 
TFTP from server 192.168.1.88; our IP address is 192.168.1.119
Filename 'recovery.bin'.
```

按照上面的打印提示来操作即可完成升级：

1. 准备好极1S的固件，放到tftp的下载目录，重命名为recovery.bin。如何下载固件可以参考这篇文章：[极1S自制固件](http://www.iptvfans.cn/wiki/index.php/%E6%9E%811S%E8%87%AA%E5%88%B6%E5%9B%BA%E4%BB%B6)
2. 用网线将极1S的LAN口与电脑网口连接
3. 设置电脑网口的IP地址为 192.168.1.88
4. 极1S通过tftp下载电脑上的 recovery.bin，然后校验、写入，完成后启动

升级的过程中几个蓝色LED在交替闪烁，升级完毕后灯全亮一下。然后进入启动状态。

```
Got ARP REPLY, set server/gtwy eth addr (80:fa:5b:00:89:43)
Got it
#################################################################
	 #################################################################
         此处省略N行
	 #################################################################
	 ###################
done
Bytes transferred = 11075588 (a90004 hex)
NetBootFileXferSize= 00a90004
HiWiFi verify ok
....................................................................................................................................................................
....................................................................................................................................................................
.
.
Done!
```

